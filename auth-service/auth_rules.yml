# Минимальные права для ролей (иерархия)
role_minimum_access:
  public:
    - path: "/auth/validate"
      methods: ["GET"]
    - path: "/api/auth/login"
      methods: ["POST"]
    - path: "/api/users" # регистрация
      methods: ["POST"]
    - path: "/api/auth/logout"
      methods: ["POST"]
    - path: "/auth/validate" # для Traefik forwardAuth
      methods: ["GET"]
    - path: "/api/auth/validate-token" # публичный для внутренних сервисов
      methods: ["POST"]
    - path: "/api/auth/refresh"
      methods: ["POST"]
    - path: "/api/auth/health"
      methods: ["GET"]


    - path: "/api/database/migrate-sqlite"
      methods: ["GET"]
    - path: "/api/users/init-first-admin"
      methods: ["GET"]
    - path: "/api/sessions" # Получить сессии или данные конкретной
      methods: ["GET"]

    - path: "/api/modules"
      methods: ["GET"]



    - path: "/api/table"
      methods: ["GET"]
    - path: "/api/auth/config-status"
      methods: ["GET"]
    - path: "/api/auth/reload-config"
      methods: ["GET"]

  user:
    - path: "/api/profile"
      methods: ["GET", "PUT"]
    - path: "/api/sessions" 
      methods: ["POST"] # Добавить сессию
    - path: "/api/analytics/basic"
      methods: ["GET"]

  curator:


    - path: "/api/sessions"
      methods: ["DELETE"]  # Удалить сессию
    - path: "/api/content"
      methods: ["GET", "POST", "PUT"]
    - path: "/api/analytics/advanced"
      methods: ["GET"]

  admin:
    - path: "/api/analytics"
      methods: ["GET", "POST"]
    - path: "/api/admin"
      methods: ["GET", "POST"]

  developer:
    - path: "/api/system"
      methods: ["GET", "POST", "PUT", "DELETE"]
    - path: "/api/debug"
      methods: ["GET", "POST"]
