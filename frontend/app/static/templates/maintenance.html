<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #333;
        }
        
        .maintenance-container {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
            max-width: 500px;
            width: 90%;
        }
        
        .maintenance-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 20px;
        }
        
        p {
            color: #7f8c8d;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .status {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #e74c3c;
            margin: 20px 0;
        }
        
        .checking-status {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #f39c12;
            margin: 20px 0;
        }
        
        .success-status {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #27ae60;
            margin: 20px 0;
        }
        
        .progress-bar {
            width: 100%;
            height: 4px;
            background: #ecf0f1;
            border-radius: 2px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: #3498db;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .auto-redirect {
            margin-top: 20px;
            padding: 10px;
            background: #e8f4fd;
            border-radius: 5px;
            border: 1px solid #bee5eb;
        }
        
        .countdown {
            font-weight: bold;
            color: #e74c3c;
        }
    </style>
</head>
<body>
    <div class="maintenance-container">
        <div class="maintenance-icon">üîß</div>
        <h1>–°–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</h1>
        <p>–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã. –ü—Ä–∏–Ω–æ—Å–∏–º –∏–∑–≤–∏–Ω–µ–Ω–∏—è –∑–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞.</p>
        
        <div class="status" id="status-message">
            <strong>–°—Ç–∞—Ç—É—Å:</strong> –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
        
        <div class="checking-status" id="checking-status" style="display: none;">
            <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏:</strong> –°–µ—Ä–≤–∏—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è...
        </div>
        
        <div class="success-status" id="success-status" style="display: none;">
            <strong>‚úÖ –°–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω!</strong> –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º...
        </div>
        
        <div class="auto-redirect">
            <p>‚è≥ <strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong></p>
            <p>–ö–æ–≥–¥–∞ —Å–µ—Ä–≤–∏—Å —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω, –≤—ã –±—É–¥–µ—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.</p>
            <p>–î–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è: <span class="countdown" id="countdown">--</span> —Å–µ–∫.</p>
        </div>
        
        <p><small>–í—Ä–µ–º—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: <span id="server-time"></span></small></p>
        <p><small>–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏: <span id="last-check"></span></small></p>
        
        <button onclick="window.location.reload()" style="margin-top: 15px; padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">
            –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
        </button>
    </div>

    <script>
        let checkCount = 0;
        let redirectTimer = null;
        const checkInterval = 5000; // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
        const redirectDelay = 3000; // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º 3 —Å–µ–∫—É–Ω–¥—ã

        function updateServerTime() {
            document.getElementById('server-time').textContent = new Date().toLocaleString('ru-RU');
        }

        function updateLastCheck() {
            document.getElementById('last-check').textContent = new Date().toLocaleString('ru-RU');
        }

        function updateProgress(percent) {
            document.getElementById('progress-fill').style.width = percent + '%';
        }

        function checkServiceAvailability() {
            checkCount++;
            updateLastCheck();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏
            document.getElementById('checking-status').style.display = 'block';
            document.getElementById('status-message').style.display = 'none';
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º fetch –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
            // –ü—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ—Ä–Ω–µ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            fetch(window.location.origin, {
                method: 'GET',
                headers: {
                    'Cache-Control': 'no-cache',
                    'Pragma': 'no-cache'
                },
                cache: 'no-cache'
            })
            .then(response => {
                if (response.ok) {
                    // –°–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω!
                    serviceAvailable();
                } else {
                    // –°–µ—Ä–≤–∏—Å –≤—Å–µ –µ—â–µ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
                    serviceUnavailable();
                }
            })
            .catch(error => {
                // –û—à–∏–±–∫–∞ —Å–µ—Ç–∏ - —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
                serviceUnavailable();
            });
        }

        function serviceAvailable() {
            document.getElementById('checking-status').style.display = 'none';
            document.getElementById('success-status').style.display = 'block';
            document.getElementById('countdown').textContent = '3';
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Ç—Å—á–µ—Ç –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
            let countdown = 3;
            redirectTimer = setInterval(() => {
                countdown--;
                document.getElementById('countdown').textContent = countdown;
                
                if (countdown <= 0) {
                    clearInterval(redirectTimer);
                    // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
                    window.location.href = window.location.origin;
                }
            }, 1000);
        }

        function serviceUnavailable() {
            document.getElementById('checking-status').style.display = 'none';
            document.getElementById('status-message').style.display = 'block';
            document.getElementById('success-status').style.display = 'none';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å (—Ü–∏–∫–ª–∏—á–Ω–æ –æ—Ç 0 –¥–æ 100)
            const progress = (checkCount * 10) % 100;
            updateProgress(progress);
            
            // –ü–ª–∞–Ω–∏—Ä—É–µ–º —Å–ª–µ–¥—É—é—â—É—é –ø—Ä–æ–≤–µ—Ä–∫—É
            setTimeout(checkServiceAvailability, checkInterval);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateServerTime();
        updateLastCheck();
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–≤—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
        setTimeout(checkServiceAvailability, 2000);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
        setInterval(updateServerTime, 60000);
    </script>
</body>
</html>